const reset       = require('reset-storage')
const level       = require('level-browserify')
// const level       = require('memdb')
const sub         = require('level-sublevel')
const tracker     = require('level-tracker')
// const package     = require('findup-package-json').sync({
//   // @TODO: add esova package json info to leveldb
//   fields: ['name', 'version']
// })
// add to package.json => "findup-package-json",
const NAME        = 'data.db'
// @TODO: add level-switchboard && level-subtracker
const db          = sub(level(NAME))
// const version     = package.pkg.version
// const name        = package.pkg.name
// const root        = '/' + name + '/' + version + '/'
var data = db.sublevel('root')
data.reset = function () {
  reset.localStorage()
  reset.indexedDB("IDBWrapper-"+ NAME)
}
// ADD HOOKS
// https://www.npmjs.com/package/level-hooks
// CHECK CONDITIONS
// https://www.npmjs.com/package/level-condition
module.exports  = data

// var STATE = ud.defonce(module, function initialize (){
// var state = {
//     /************************************************************************
//       UPDATE VIEW through NAVIGATION => shift perspective
//     ************************************************************************/
//     route     : {},
//     /************************************************************************
//       UPDATE VIEW through ACTIONS => shift content
//     ************************************************************************/
//     action    : function action (name, state) {
//       console.log('Action: ', name)
//       ENGINE.update(state)
//     },
//     submenu   : [{
//       link  : '/#products/innovation',
//       name  : 'Innovation'
//     },{
//       link  : '/#products/transformation',
//       name  : 'Transformation'
//     },{
//       link  : '/#products/digital-leadership',
//       name  : 'Digital Leadership Program'
//     },{
//       link  : '/#products/female-leadership',
//       name  : 'Female Leadership Experience'
//     },{
//       link  : '/#products/leadership-program',
//       name  : 'Women in Leadership Program'
//     }]
//   }
//   return state
// }, 'STATE')
